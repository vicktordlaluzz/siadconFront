<!-- Content Wrapper. Contains page content -->
<div class="content-wrapper">
    <app-page-header></app-page-header>

    <!-- Main content -->
    <section class="content">
        <div class="container-fluid">

            <!-- form start -->
            <form [formGroup]="nClienteForm" (submit)="saveCliente($event)">
                <div class="row">
                    <!-- left column -->
                    <div class="col-md-12">
                        <!-- general form elements -->
                        <div class="card card-primary">
                            <div class="card-header">
                                <h3 class="card-title"><i class="far fa-id-card"></i> Datos generales</h3>
                            </div>
                            <!-- /.card-header -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Nombre</label>
                                            <input type="text" class="form-control" [class.is-invalid]="this.nClienteForm.get('nombre').errors && this.nClienteForm.get('nombre').touched" formControlName="nombre" placeholder="Nombre">
                                            <div class="invalid-feedback">
                                                El campo es requerido.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Apellido paterno</label>
                                            <input type="text" class="form-control" [class.is-invalid]="this.nClienteForm.get('apaterno').errors && this.nClienteForm.get('apaterno').touched" formControlName="apaterno" placeholder="Apellido paterno">
                                            <div class="invalid-feedback">
                                                El campo es requerido.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Apellido materno</label>
                                            <input type="text" class="form-control" formControlName="amaterno" placeholder="Apellido materno">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">RFC</label>
                                            <input type="text" class="form-control" [class.is-invalid]="this.nClienteForm.get('rfc').errors && this.nClienteForm.get('rfc').touched" formControlName="rfc" placeholder="RFC">

                                            <div class="invalid-feedback">
                                                Introduce un RFC valido.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">CURP</label>
                                            <input type="text" class="form-control" [class.is-invalid]="this.nClienteForm.get('curp').errors && this.nClienteForm.get('curp').touched" formControlName="curp" placeholder="CURP">

                                            <div class="invalid-feedback">
                                                Introduce un CURP valido.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">NSS</label>
                                            <input type="text" class="form-control" [class.is-invalid]="this.nClienteForm.get('nss').errors && this.nClienteForm.get('nss').touched" formControlName="nss" placeholder="NSS">

                                            <div class="invalid-feedback">
                                                Introduce un NSS valido.
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">

                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="exampleInputEmail1">Email</label>
                                            <input type="text" class="form-control" [class.is-invalid]="this.nClienteForm.get('email').errors && this.nClienteForm.get('email').touched" formControlName="email" placeholder="Email">

                                            <div class="invalid-feedback">
                                                Introduce un Email valido.
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <!-- /.card -->
                        <!-- general form elements -->
                        <div class="card card-secondary">
                            <div class="card-header">
                                <h3 class="card-title"><i class="fas fa-building"></i> Direcciones</h3>
                            </div>
                            <!-- /.card-header -->
                            <div class="card-body">
                                <div>
                                    <div class="">
                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">Calle</label>
                                                    <input [class.is-invalid]="this.nClienteForm.get('calle').errors && this.nClienteForm.get('calle').touched" type="text" class="form-control" formControlName="calle" placeholder="Calle">

                                                    <div class="invalid-feedback">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-1">
                                                <div class="form-group">
                                                    <label for="exampleInputEmail1">Numero Ext.</label>
                                                    <input type="text" class="form-control" formControlName="numeroE" placeholder="N. Ext.">

                                                    <div class="invalid-feedback">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-1">
                                                <div class=" form-group ">
                                                    <label>Numero Int.</label>
                                                    <input type="text " class="form-control " formControlName="numeroI" placeholder="N. Int. ">

                                                    <div class="invalid-feedback ">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-2 ">
                                                <div class="form-group ">
                                                    <label>Codigo postal</label>
                                                    <input [class.is-invalid]="this.nClienteForm.get('cp').errors && this.nClienteForm.get('cp').touched" type="text " class="form-control " formControlName="cp" placeholder="C.P.">

                                                    <div class="invalid-feedback ">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group ">
                                                    <label>Colonia</label>
                                                    <input [class.is-invalid]="this.nClienteForm.get('colonia').errors && this.nClienteForm.get('colonia').touched" type="text " class="form-control " formControlName="colonia" placeholder="Colonia">

                                                    <div class="invalid-feedback ">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row ">
                                            <div class="col-md-4">
                                                <div class="form-group ">
                                                    <label>Estado</label>
                                                    <select (change)="selectMunicipios()" formControlName="estado" name="" id="" class="form-control">
                                                    <option selected value="sin seleccion">----- SELECCIONA UN ESTADO -----</option>
                                                    <option *ngFor="let estado of this.direcService.estados" value="{{estado}}">{{estado}}</option>
                                                </select>

                                                    <div class="invalid-feedback ">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4">
                                                <div class="form-group ">
                                                    <label>Municipio</label>
                                                    <select formControlName="municipio" name="" id="" class="form-control">
                                                        
                                                    <option selected value="sin seleccion">----- SELECCIONA UN ESTADO -----</option>
                                                    <option *ngFor="let municipio of this.direcService.municipios" value="{{municipio}}">{{municipio}}</option>
                                                    </select>
                                                    <div class="invalid-feedback ">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <hr>
                                </div>

                            </div>
                        </div>
                        <!-- /.card -->
                        <!-- general form elements -->
                        <div class="card card-info ">
                            <div class="card-header ">
                                <h3 class="card-title "><i class="fas fa-tty "></i> Contacto</h3>
                            </div>
                            <!-- /.card-header -->
                            <div class="card-body ">

                                <div formArrayName="telefonos" *ngFor="let item of telefonos.controls; let i=index ">
                                    <div [formGroupName]="i">
                                        <div class="row">
                                            <div class="col-md-3 ">
                                                <div class="form-group ">
                                                    <label>Numero</label>
                                                    <input [class.is-invalid]="this.telefonos.controls[i].get('telefono').errors && this.telefonos.controls[i].get('telefono').touched" type="text" class="form-control" formControlName="telefono" placeholder="Numero">

                                                    <div class="invalid-feedback ">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-2 ">
                                                <div class="form-group ">
                                                    <label>Tipo</label>
                                                    <select formControlName="tipoTelefono" class="form-control ">
                                                    <option selected value="fijo">Fijo</option>
                                                    <option value="movil">Movil</option>
                                                </select>

                                                    <div class="invalid-feedback ">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-7 ">
                                                <div class="form-group ">
                                                    <label>Comentarios</label>
                                                    <textarea [class.is-invalid]="this.telefonos.controls[i].get('comentarioTelefono').errors && this.telefonos.controls[i].get('comentarioTelefono').touched" formControlName="comentarioTelefono" class="form-control " rows="1"></textarea>

                                                    <div class="invalid-feedback ">
                                                        El campo es requerido.
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <hr>
                                <div class="row ">
                                    <div class="col-md-1 offset-10 ">
                                        <button [disabled]="this.telefonos.length < 2" type="button" (click)="removeTelefono()" class="btn btn-block btn-outline-danger "><i class="fas fa-backspace "></i></button>
                                    </div>
                                    <div class="col-md-1 ">
                                        <button [disabled]="this.nClienteForm.get('telefonos').invalid" class="btn btn-block btn-outline-primary " type="button" (click)="addTelefonosField() "><i class="far fa-plus-square "></i></button>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <!-- /.card -->

                        <div class="card ">
                            <div class="card-body ">

                                <div class="row ">
                                    <div class="col-md-4 offset-md-8 ">
                                        <div class="row ">

                                            <div class="col-md-6 ">
                                                <button type="button " (click)="resetForm() " class="btn btn-danger form-control "><i class="fas fa-eraser "></i></button>
                                            </div>
                                            <div class="col-md-6 ">
                                                <button type="submit " class="btn btn-success form-control "><i class="fas fa-save "></i></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <!--/.col (left) -->


                </div>
                <!-- /.row -->

                <div class="row ">

                </div>

            </form>
        </div>
        <!-- /.container-fluid -->
    </section>
    <!-- /.content -->
</div>
<!-- /.content-wrapper -->